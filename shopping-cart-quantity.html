<!doctype html>
<html amp>
	<head>
		<meta charset="utf-8">
		<link rel="canonical" href="shopping-cart-quantity.html" />
		<meta name="viewport" content="width=device-width,minimum-scale=1">
		<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
		<script async src="https://cdn.ampproject.org/v0.js"></script>

		<title>Shopping Cart Quantity via amp-bind</title>
		<script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js"></script>
		<style amp-custom>
			body {
				padding: 0 1em;
			}
		</style>
	</head>
	<body>
		<h1>Shopping Cart Quantity via <code>amp-bind</code></h1>

		<amp-state id="cart">
			<script type="application/json">
				{ "quantity": 0 }
			</script>
		</amp-state>

		<p>
			Quantity: <input [value]="cart.quantity" type="number" value="0" readonly>
			<button on="tap:AMP.setState( { cart:{ quantity: cart.quantity + 1 } } )">
				More
			</button>
			<button on="tap:AMP.setState( { cart:{ quantity: max( 0, cart.quantity - 1 ) } } )"
					disabled [disabled]="cart.quantity == 0">
				Less
			</button>
		</p>

		<hr>
		<p>
			GitHub: <a href="https://github.com/westonruter/javascriptforwp-conference-amp-examples">javascriptforwp-conference-amp-examples</a>
		</p>
	</body>
</html>
